{"version":3,"sources":["services/blogs.js","reducers/blogReducer.js","reducers/notifReducer.js","reducers/signedinUserReducer.js","services/users.js","reducers/usersReducer.js","components/Togglable.js","components/CommentList.js","components/Blog.js","components/BlogForm.js","components/BlogList.js","services/login.js","components/LoginForm.js","components/NotificationBanner.js","components/UsersList.js","components/NavBar.js","components/Home.js","App.js","store.js","index.js"],"names":["baseUrl","token","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","setToken","newToken","update","id","put","res","deleteBlog","delete","addComment","comment","commentObj","content","dispatch","blogService","type","likeBlog","blog","updatedBlog","likes","blogReducer","state","action","filter","b","likedBlogIdx","findIndex","map","idx","blogToUpdate","find","comments","setNotification","notifMessage","notifType","setTimeout","timeoutID","notifReducer","clearTimeout","setCurrentUser","user","signedinUserReducer","usersReducer","payload","Togglable","props","useState","visible","setVisible","hiddenWhenVisible","display","shownWhenVisible","toggleVisibility","Box","py","style","Button","variant","color","onClick","openLabel","children","closeLabel","CommentBox","newComment","setnewComment","useDispatch","onSubmit","event","preventDefault","returnedBlog","value","name","onChange","e","target","CommentList","c","key","Blog","expanded","setExpanded","signedinUser","useSelector","history","useHistory","handleLike","handleDelete","title","window","confirm","push","console","log","Container","Card","elevation","className","CardHeader","avatar","Avatar","author","subheader","IconButton","CardContent","Typography","component","href","url","CardActions","clsx","aria-expanded","aria-label","Collapse","in","timeout","unmountOnExit","BlogForm","createMuiTheme","newBlogTitle","setnewBlogTitle","newBlogAuthor","setnewBlogAuthor","newBlogUrl","setnewBlogUrl","newBlog","createNewBlog","TextField","label","size","margin","required","BlogList","blogs","blogMatch","useRouteMatch","params","path","square","to","login","credentials","LoginForm","username","setUsername","password","setPassword","handleLogin","loginService","localStorage","setItem","JSON","stringify","maxWidth","Paper","padding","fullWidth","NotificationBanner","notification","Alert","severity","AlertTitle","Users","allUsers","users","u","length","User","UsersList","userMatch","Navbar","AppBar","position","Toolbar","flexGrow","Tabs","Tab","Link","removeItem","Home","App","useEffect","userService","signedinUserJSON","getItem","parse","reducers","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.a0614556.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n  // console.log('token', token)\r\n}\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = async (newObject) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  const response = await axios.post(baseUrl, newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst update = async (id, newObject) => {\r\n  const res = await axios.put(`${baseUrl}/${id}`, newObject)\r\n  return res.data\r\n}\r\n\r\nconst deleteBlog = async (id) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.delete(`${baseUrl}/${id}`, config)\r\n}\r\n\r\nconst addComment = async (id, comment) => {\r\n  // console.log('blogService',id, comment)\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n  const commentObj= {\r\n    content: comment\r\n  }\r\n  const res = await axios.post(`${baseUrl}/${id}/comments`, commentObj, config)\r\n  // console.log('service', res)\r\n  return res.data\r\n}\r\n\r\nexport default { getAll, create, setToken, update, deleteBlog, addComment }","import blogService from '../services/blogs.js'\r\n\r\nconst blogReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'INIT_BLOGS':\r\n      return action.data\r\n    case 'NEW_BLOG':\r\n      return [\r\n        ...state, action.data\r\n      ]\r\n    case 'DELETE_BLOG':\r\n      // console.log('action.data', action.data)\r\n      return state.filter((b) => b.id !== action.data)\r\n    case 'LIKE_BLOG':\r\n      const likedBlogIdx = state.findIndex((b) => b.id === action.data)\r\n      return state.map((b, idx) => {\r\n        if (idx !== likedBlogIdx) {\r\n          return b\r\n        }\r\n        return {\r\n          ...b,\r\n          likes: b.likes + 1\r\n        }\r\n      })\r\n    case 'ADD_COMMENT':\r\n      const blogToUpdate = state.find((b) => b.id === action.id)\r\n      // console.log('blogToUpdate', blogToUpdate)\r\n      const updatedBlog = {\r\n        ...blogToUpdate,\r\n        comments: action.data\r\n      }\r\n      // console.log('updatedBlog', updatedBlog)\r\n      return state.map((b) => \r\n        b.id === action.id ? updatedBlog : b\r\n      )\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initializeBlogs = () => {\r\n  return async dispatch => {\r\n    const blogs = await blogService.getAll()\r\n    dispatch({\r\n      type: 'INIT_BLOGS',\r\n      data: blogs\r\n    })\r\n  }\r\n}\r\n\r\nexport const createNewBlog = (newBlog) => {\r\n  return async dispatch => {\r\n    const returnedBlog = await blogService.create(newBlog)\r\n    dispatch({\r\n      type: 'NEW_BLOG',\r\n      data: returnedBlog\r\n    })\r\n  }\r\n}\r\n\r\nexport const deleteBlog = (id) => {\r\n  return async dispatch => {\r\n    const returnedBlog = await blogService.deleteBlog(id)\r\n    // console.log(returnedBlog)\r\n    dispatch({\r\n      type: 'DELETE_BLOG',\r\n      data: id\r\n    })\r\n  }\r\n}\r\n\r\nexport const likeBlog = (blog) => {\r\n  return async dispatch => {\r\n    const updatedBlog = { ...blog, likes: blog.likes + 1 }\r\n    const returnedBlog = await blogService.update(blog.id, updatedBlog)\r\n    dispatch({\r\n      type: 'LIKE_BLOG',\r\n      data: blog.id\r\n    })\r\n  }\r\n}\r\n\r\nexport const comment = (blog, comment) => {\r\n  // console.log(blog, comment)\r\n  return async dispatch => {\r\n    const returnedBlog = await blogService.addComment(blog.id, comment)\r\n    dispatch({\r\n      type: 'ADD_COMMENT',\r\n      id: blog.id,\r\n      data: returnedBlog.comments\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default blogReducer","const notifReducer = (state = { notifMessage: null, notifType: null, timeoutID: null },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case 'SET_NOTIFICATION':\r\n      if (state.timeoutID) {\r\n        clearTimeout(state.timeoutID)\r\n      }\r\n      return {\r\n        notifMessage: action.notifMessage,\r\n        notifType: action.notifType,\r\n        timeoutID: null\r\n      }\r\n\r\n    case 'REMOVE_NOTIFICATION':\r\n      return {\r\n        notifMessage: null,\r\n        notifType: null,\r\n        timeoutID: null\r\n      }\r\n    case 'REFRESH_TIMEOUT':\r\n      return {\r\n        ...state,\r\n        timeoutID: action.timeoutID\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setNotification = (notifMessage, notifType) => {\r\n  return async dispatch => {\r\n    dispatch({\r\n      type: 'SET_NOTIFICATION',\r\n      notifMessage,\r\n      notifType\r\n    })\r\n    let timeoutID = await setTimeout(() => {\r\n      dispatch({\r\n        type: 'REMOVE_NOTIFICATION'\r\n      })\r\n    }, 5000)\r\n    dispatch({\r\n      type: 'REFRESH_TIMEOUT',\r\n      timeoutID\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default notifReducer","const signedinUserReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return action.user\r\n    case 'LOGOUT':\r\n      return null\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setCurrentUser = (user) => {\r\n  return {\r\n    type: 'SET_USER',\r\n    user\r\n  }\r\n}\r\n\r\nexport const logoutCurrentUser = () => {\r\n  return {\r\n    type: 'LOGOUT'\r\n  }\r\n}\r\n\r\nexport default signedinUserReducer","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n  getAll\r\n}","import userService from '../services/users.js'\r\n\r\nconst usersReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'INIT_USERS':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const fetchAllUsers = () => {\r\n  return async dispatch => {\r\n    const users = await userService.getAll()\r\n    dispatch({\r\n      type: 'INIT_USERS',\r\n      payload: users\r\n    })\r\n  }\r\n}\r\n\r\nexport default usersReducer","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport {\r\n  Button,\r\n  Box\r\n} from '@material-ui/core'\r\n\r\nconst Togglable = (props) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hiddenWhenVisible = { display: visible ? 'none' : '' }\r\n  const shownWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  return (\r\n    <Box py={3}>\r\n      <div style={hiddenWhenVisible}>\r\n        <Button variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={toggleVisibility}\r\n        >\r\n          {props.openLabel}\r\n        </Button>\r\n      </div>\r\n\r\n      <div style={shownWhenVisible}>\r\n        {props.children}\r\n        <Button variant=\"contained\"\r\n          color=\"secondary\"\r\n          onClick={toggleVisibility}\r\n        >\r\n          {props.closeLabel}\r\n        </Button>\r\n      </div>\r\n    </Box>\r\n\r\n  )\r\n}\r\n\r\nTogglable.propTypes = {\r\n  openLabel: PropTypes.string.isRequired,\r\n  closeLabel: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Togglable","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport { comment } from '../reducers/blogReducer.js'\r\n\r\nconst CommentList = ({ blog }) => {\r\n  // console.log(blog)\r\n\r\n\r\n  return (\r\n    <div>\r\n      <CommentBox blog={blog} />\r\n      <ul>\r\n        {blog.comments.map((c, idx) =>\r\n          <li key={idx}>{c}</li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst CommentBox = ({ blog }) => {\r\n  const [newComment, setnewComment] = useState('')\r\n  const dispatch = useDispatch()\r\n\r\n  const createComment = (event) => {\r\n    event.preventDefault()\r\n    dispatch(comment(blog, newComment))\r\n    setnewComment('')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={createComment}>\r\n        <input\r\n          type=\"text\"\r\n          value={newComment}\r\n          name=\"Comment\"\r\n          onChange={(e) => setnewComment(e.target.value)}\r\n        />\r\n        <button type=\"submit\">\r\n          add comment\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CommentList","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport clsx from 'clsx'\r\n// import PropTypes from 'prop-types'\r\n\r\nimport { setNotification } from '../reducers/notifReducer.js'\r\nimport { deleteBlog, likeBlog } from '../reducers/blogReducer.js'\r\n\r\nimport CommentList from './CommentList.js'\r\nimport blogService from '../services/blogs.js'\r\nimport '../App.css'\r\n\r\nimport {\r\n  Button,\r\n  Container,\r\n  Card, CardContent, CardHeader, Collapse, CardActions,\r\n  Avatar,\r\n  IconButton,\r\n  Typography\r\n} from '@material-ui/core'\r\n\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever'\r\n\r\n\r\nconst Blog = ({ blog }) => {\r\n  const [expanded, setExpanded] = useState(false)\r\n\r\n  const signedinUser = useSelector(state => state.signedinUser)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded)\r\n  }\r\n\r\n  // DELETE BUTTON CONDITIONAL RENDERING LOGIC\r\n  const deleteButtonStyle = () => {\r\n    if (!blog) {\r\n      return {\r\n        display: 'none'\r\n      }\r\n    }\r\n    if (signedinUser.id !== blog.user.id) {\r\n      return {\r\n        display: 'none'\r\n      }\r\n    }\r\n  }\r\n\r\n  // const expandedInfoVisible = { display: expanded ? '' : 'none' }\r\n  // const expandButtonText = () => expanded ? 'hide' : 'view'\r\n\r\n\r\n  const handleLike = async (event) => {\r\n    event.preventDefault()\r\n    dispatch(likeBlog(blog))\r\n  }\r\n\r\n\r\n  const handleDelete = async (id, title) => {\r\n    if (window.confirm(`delete ${title}?`)) {\r\n      dispatch(deleteBlog(id))\r\n      history.push('/blogs')\r\n      dispatch(setNotification(\r\n        `BLOG ${title} HAS BEEN DELETED`,\r\n        'success'\r\n      ))\r\n    } else {\r\n      console.log('cancelled delete')\r\n    }\r\n  }\r\n\r\n  // CONDITIONAL RENDERING\r\n  if (!signedinUser || !blog) {\r\n    return <h1>loading...</h1>\r\n  }\r\n\r\n  return (\r\n\r\n    <Container>\r\n      <Card elevation={6} className=\"blogpostCard\">\r\n        <CardHeader\r\n          avatar={\r\n            <Avatar>\r\n              {blog.author[0]}\r\n            </Avatar>\r\n          }\r\n          title={blog.title}\r\n          subheader={blog.author}\r\n          action={\r\n            <IconButton\r\n              onClick={() => handleDelete(blog.id, blog.title)}\r\n              style={deleteButtonStyle()}\r\n            >\r\n              <DeleteForeverIcon color=\"secondary\" />\r\n            </IconButton>\r\n          }\r\n        />\r\n\r\n        <CardContent>\r\n\r\n          <Typography variant=\"subtitle2\" component=\"a\" href={blog.url}>\r\n            {blog.url}\r\n          </Typography>\r\n\r\n          {/* {blog.likes} likes */}\r\n          <Typography variant=\"body1\" component=\"p\">\r\n            {blog.likes} likes\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={(event) => handleLike(event)}\r\n          >\r\n            LIKE\r\n          </Button>\r\n        </CardContent>\r\n\r\n        <CardActions>\r\n          <h2>comments</h2>\r\n          <IconButton\r\n            className={clsx({\r\n              [\"cardexpandButton\"]: !expanded,\r\n              [\"cardexpandButtonOpen\"]: expanded,\r\n            })}\r\n            onClick={handleExpandClick}\r\n            aria-expanded={expanded}\r\n            aria-label=\"show more\"\r\n          >\r\n            <ExpandMoreIcon />\r\n          </IconButton>\r\n        </CardActions>\r\n\r\n        <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n          <CardContent>\r\n            <CommentList blog={blog} />\r\n          </CardContent>\r\n        </Collapse>\r\n      </Card>\r\n    </Container>\r\n  )\r\n}\r\n\r\n// Blog.propTypes = {\r\n//   blog: PropTypes.object.isRequired,\r\n//   currUser: PropTypes.object.isRequired,\r\n//   handleDelete: PropTypes.func.isRequired\r\n// }\r\n\r\nexport default Blog\r\n","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport { setNotification } from '../reducers/notifReducer.js'\r\nimport { createNewBlog } from '../reducers/blogReducer.js'\r\n\r\nimport {\r\n  createMuiTheme\r\n} from '@material-ui/core/styles'\r\nimport {\r\n  TextField, Button\r\n} from '@material-ui/core'\r\n\r\nconst theme = createMuiTheme({\r\n\r\n})\r\n\r\n\r\nconst BlogForm = () => {\r\n  const [newBlogTitle, setnewBlogTitle] = useState('')\r\n  const [newBlogAuthor, setnewBlogAuthor] = useState('')\r\n  const [newBlogUrl, setnewBlogUrl] = useState('')\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const createBlog = (event) => {\r\n    event.preventDefault()\r\n    console.log('sending:', newBlogTitle, newBlogAuthor, newBlogUrl)\r\n    const newBlog = {\r\n      title: newBlogTitle,\r\n      author: newBlogAuthor,\r\n      url: newBlogUrl\r\n    }\r\n    setnewBlogTitle('')\r\n    setnewBlogAuthor('')\r\n    setnewBlogUrl('')\r\n    dispatch(createNewBlog(newBlog))\r\n    dispatch(setNotification(\r\n      `A NEW BLOG ${newBlog.title} by ${newBlog.author} HAS BEEN ADDED`,\r\n      'success'))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>create new</h1>\r\n\r\n      <form onSubmit={createBlog}>\r\n        <div>\r\n          <TextField\r\n            value={newBlogTitle}\r\n            onChange={(e) => setnewBlogTitle(e.target.value)}\r\n            variant=\"outlined\"\r\n            label=\"Title\"\r\n            size=\"small\"\r\n            margin=\"dense\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <TextField\r\n            value={newBlogAuthor}\r\n            onChange={(e) => setnewBlogAuthor(e.target.value)}\r\n            variant=\"outlined\"\r\n            label=\"Author\"\r\n            size=\"small\"\r\n            margin=\"dense\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <TextField\r\n            value={newBlogUrl}\r\n            onChange={(e) => setnewBlogUrl(e.target.value)}\r\n            variant=\"outlined\"\r\n            label=\"URL\"\r\n            size=\"small\"\r\n            margin=\"dense\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <Button\r\n          id=\"createBlog-button\"\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n        >\r\n          create\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BlogForm","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n  Switch, Route, Link,\r\n  useRouteMatch\r\n} from 'react-router-dom'\r\n\r\nimport Blog from './Blog.js'\r\nimport BlogForm from './BlogForm.js'\r\nimport Togglable from './Togglable.js'\r\nimport '../App.css'\r\n\r\nimport {\r\n  Box,\r\n  Card, CardContent\r\n} from '@material-ui/core'\r\n\r\nconst BlogList = () => {\r\n  const blogs = useSelector(state => state.blogs)\r\n  const blogMatch = useRouteMatch('/blogs/:id')\r\n\r\n  const blog = blogMatch\r\n    ? blogs.find(b => b.id === blogMatch.params.id)\r\n    : null\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path='/blogs/:id'>\r\n        <Blog blog={blog} />\r\n      </Route>\r\n\r\n      <Route path='/blogs'>\r\n        <h1>blogs</h1>\r\n        <Togglable openLabel='new blog' closeLabel='cancel'>\r\n          <Box>\r\n            <BlogForm />\r\n          </Box>\r\n        </Togglable>\r\n        <div className=\"allBlogs\">\r\n          {blogs.map((b) =>\r\n            <Card className=\"bloglistCard\" elevation={3} square=\"true\" key={b.id}>\r\n              <CardContent>\r\n                <Link to={`/blogs/${b.id}`}>{b.title} - {b.author}</Link>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </div>\r\n      </Route>\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default BlogList","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport setNotification from '../reducers/notifReducer.js'\r\n\r\nimport loginService from '../services/login.js'\r\nimport blogService from '../services/blogs.js'\r\nimport { setCurrentUser } from '../reducers/signedinUserReducer.js'\r\n\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Container,\r\n  Paper,\r\n  Box\r\n} from '@material-ui/core'\r\n\r\nconst LoginForm = () => {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  // const [user, setUser] = useState(null)\r\n  const dispatch = useDispatch()\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    console.log('logging in:', username, password)\r\n    try {\r\n      const user = await loginService.login({\r\n        username, password\r\n      })\r\n\r\n      window.localStorage.setItem('loggedUser', JSON.stringify(user))\r\n      blogService.setToken(user.token)\r\n      dispatch(setCurrentUser(user))\r\n      // setUser(user)\r\n      setUsername('')\r\n      setPassword('')\r\n    } catch (exception) {\r\n      console.log('handleLogin', exception)\r\n      dispatch(setNotification(\r\n        'wrong username or password',\r\n        'error'))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Paper elevation={3}>\r\n        <Box padding={6}>\r\n\r\n          <form\r\n            onSubmit={handleLogin}\r\n          >\r\n            <h1>Hello.</h1>\r\n            <div>\r\n              <TextField\r\n                id=\"username-input\"\r\n                type=\"text\"\r\n                value={username}\r\n                label=\"Username\"\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                fullWidth\r\n                required\r\n                onChange={(event) => setUsername(event.target.value)}\r\n              />\r\n            </div>\r\n            <div>\r\n              <TextField\r\n                id=\"password-input\"\r\n                type=\"password\"\r\n                value={password}\r\n                label=\"Password\"\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                fullWidth\r\n                required\r\n                onChange={(event) => setPassword(event.target.value)}\r\n              />\r\n            </div>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              id=\"login-button\"\r\n              type=\"submit\"\r\n              fullWidth\r\n            >\r\n              login\r\n        </Button>\r\n          </form>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default LoginForm","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport {\r\n  Alert, AlertTitle\r\n} from '@material-ui/lab'\r\n\r\nconst NotificationBanner = () => {\r\n  const notification = useSelector(state => state.notification)\r\n\r\n  if (notification.notifMessage === null) {\r\n    return null\r\n  }\r\n\r\n  if (notification.notifType === 'success') {\r\n    return (\r\n      <Alert severity=\"success\">\r\n        <AlertTitle>Success!</AlertTitle>\r\n        {notification.notifMessage}\r\n      </Alert>\r\n    )\r\n  }\r\n  if (notification.notifType === 'error') {\r\n    return (\r\n      <Alert severity=\"error\">\r\n        <AlertTitle>Error!</AlertTitle>\r\n        {notification.notifMessage}\r\n      </Alert>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NotificationBanner","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n  Switch, Route, Link,\r\n  useRouteMatch\r\n} from 'react-router-dom'\r\n\r\nconst UsersList = () => {\r\n  const allUsers = useSelector(state => state.users)\r\n\r\n  const userMatch = useRouteMatch('/users/:id')\r\n  // console.log('userMatch*', userMatch)\r\n\r\n  const user = userMatch\r\n    ? allUsers.find(u => u.id === userMatch.params.id)\r\n    : null\r\n\r\n  // console.log('allUsers:', allUsers)\r\n  // console.log('user:', user)\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/users/:id\">\r\n        <User user={user} />\r\n      </Route>\r\n      <Route path=\"/users/\">\r\n        <Users />\r\n      </Route>\r\n    </Switch>\r\n  )\r\n}\r\n\r\nconst Users = () => {\r\n  const allUsers = useSelector(state => state.users)\r\n\r\n  return (\r\n\r\n    <div>\r\n      <h1>Users</h1>\r\n\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th><strong>blogs created</strong></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {allUsers.map((u) =>\r\n            <tr key={u.id}>\r\n              <td>\r\n                <Link to={`/users/${u.id}`}>{u.name}</Link>\r\n              </td>\r\n              <td>\r\n                {u.blogs.length}\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nconst User = ({ user }) => {\r\n  // console.log(user)\r\n  if (!user) {\r\n    return (\r\n      <div>loading...</div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>{user.name}</h1>\r\n      <h2>added blogs</h2>\r\n      <ul>\r\n        {user.blogs.map((b) =>\r\n          <li key={b.id}>{b.title}</li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default UsersList","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {\r\n  Switch, Route, Link, useHistory\r\n} from 'react-router-dom'\r\n\r\nimport { logoutCurrentUser } from '../reducers/signedinUserReducer.js'\r\n\r\nimport {\r\n  Box,\r\n  Button,\r\n  AppBar,\r\n  Toolbar,\r\n  Tabs, Tab\r\n} from '@material-ui/core'\r\n\r\nconst Navbar = () => {\r\n  const signedinUser = useSelector(state => state.signedinUser)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  const handleLogout = () => {\r\n    window.localStorage.removeItem('loggedUser')\r\n    // setUser(null)\r\n    dispatch(logoutCurrentUser())\r\n    history.push('/')\r\n  }\r\n\r\n  if (!signedinUser) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Toolbar>\r\n        <Box display=\"flex\" flexGrow={1}>\r\n          <Tabs>\r\n            {/* <Link to=\"/blogs\" className=\"tabLink\"> */}\r\n            <Tab component={Link} to=\"/blogs\" label=\"BLOGS\" />\r\n            {/* </Link> */}\r\n            <Tab component={Link} to=\"/users\" label=\"USERS\" />\r\n            {/* <Link to=\"/users\" className=\"tabLink\"><Tab label=\"USERS\" index={1} /></Link> */}\r\n          </Tabs>\r\n        </Box>\r\n        <span>{signedinUser.name} is logged in</span>\r\n        <span>    </span>\r\n        <Button color=\"inherit\" onClick={handleLogout}>logout</Button>\r\n      </Toolbar>\r\n    </AppBar>\r\n  )\r\n}\r\n\r\nexport default Navbar","import React from 'react'\r\nimport {\r\n  Switch, Route\r\n} from 'react-router-dom'\r\n\r\nconst Home = () => {\r\n  return (\r\n        <h1>\r\n          Serialize yourself...\r\n        </h1>\r\n  )\r\n}\r\nexport default Home","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch, Route\r\n} from 'react-router-dom'\r\n\r\nimport { initializeBlogs, deleteBlog } from './reducers/blogReducer.js'\r\nimport { setNotification } from './reducers/notifReducer.js'\r\nimport { setCurrentUser, logoutCurrentUser } from './reducers/signedinUserReducer.js'\r\nimport { fetchAllUsers } from './reducers/usersReducer.js'\r\n\r\nimport Togglable from './components/Togglable.js'\r\nimport BlogList from './components/BlogList.js'\r\nimport LoginForm from './components/LoginForm.js'\r\nimport NotificationBanner from './components/NotificationBanner.js'\r\nimport UsersList from './components/UsersList.js'\r\nimport blogService from './services/blogs.js'\r\nimport loginService from './services/login.js'\r\nimport BlogForm from './components/BlogForm.js'\r\nimport Navbar from './components/NavBar.js'\r\nimport Home from './components/Home.js'\r\n\r\nimport Container from '@material-ui/core/Container'\r\n\r\n\r\nconst App = () => {\r\n\r\n  const blogs = useSelector(state => state.blogs)\r\n  const signedinUser = useSelector(state => state.signedinUser)\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(initializeBlogs())\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchAllUsers())\r\n  }, [dispatch])\r\n\r\n// test notification bar\r\n  // useEffect(() => {\r\n  //   dispatch(setNotification('test', 'error'))\r\n  // }, [dispatch])\r\n\r\n\r\n  useEffect(() => {\r\n    const signedinUserJSON = window.localStorage.getItem('loggedUser')\r\n    // console.log(signedinUserJSON)\r\n    if (signedinUserJSON) {\r\n      const signedinUser = JSON.parse(signedinUserJSON)\r\n      dispatch(setCurrentUser(signedinUser))\r\n      blogService.setToken(signedinUser.token)\r\n      // setUser(user)\r\n      // console.log('current user:', user)\r\n    }\r\n  }, [])\r\n\r\n  const sortBlogs = (blogs) => {\r\n    blogs.sort((a, b) => b.likes - a.likes)\r\n  }\r\n\r\n\r\n\r\n  const handleDelete = async (id, title) => {\r\n    if (window.confirm(`delete ${title}?`)) {\r\n      // console.log('hella lit')\r\n      dispatch(deleteBlog(id))\r\n      // await blogService.deleteBlog(id)\r\n      // setBlogs(blogs.filter((blog) => blog.id !== id))\r\n      dispatch(setNotification(\r\n        `BLOG ${title} HAS BEEN DELETED`,\r\n        'success'\r\n      ))\r\n    } else {\r\n      console.log('cancelled delete')\r\n    }\r\n  }\r\n\r\n  const handleLogout = () => {\r\n    window.localStorage.removeItem('loggedUser')\r\n    // setUser(null)\r\n    dispatch(logoutCurrentUser())\r\n  }\r\n\r\n  const loginForm = () => (\r\n    <LoginForm />\r\n  )\r\n\r\n  const blogForm = () => (\r\n    <Togglable openLabel='new blog' closeLabel='cancel'>\r\n      <BlogForm />\r\n    </Togglable>\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      <Router>\r\n        <Navbar />\r\n        <NotificationBanner />\r\n\r\n        <Container>\r\n          {\r\n            signedinUser === null\r\n              ?\r\n              <LoginForm />\r\n              :\r\n              <div>\r\n                <Switch>\r\n                  <Route path=\"/blogs\">\r\n                    <BlogList />\r\n                  </Route>\r\n                  <Route path=\"/users\">\r\n                    <UsersList />\r\n                  </Route>\r\n                  <Route path=\"/\">\r\n                    <Home />\r\n                  </Route>\r\n                </Switch>\r\n              </div>\r\n          }\r\n        </Container>\r\n      </Router>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nimport blogReducer from './reducers/blogReducer.js'\r\nimport notifReducer from './reducers/notifReducer.js'\r\nimport signedinUserReducer from './reducers/signedinUserReducer.js'\r\nimport usersReducer from './reducers/usersReducer.js'\r\n\r\nconst reducers = combineReducers({\r\n  blogs: blogReducer,\r\n  signedinUser: signedinUserReducer,\r\n  notification: notifReducer,\r\n  users: usersReducer\r\n})\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  composeWithDevTools(\r\n    applyMiddleware(thunk)\r\n  )\r\n)\r\n\r\nexport default store","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\n\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\n\r\nimport './App.css'\r\nimport App from './App.js'\r\nimport store from './store.js'\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <CssBaseline />\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root'))"],"sourceRoot":""}